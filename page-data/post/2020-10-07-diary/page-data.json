{"componentChunkName":"component---src-templates-post-js","path":"/post/2020-10-07-diary/","result":{"data":{"site":{"siteMetadata":{"title":"℘ make now just"}},"markdownRemark":{"html":"<h1>やったこと</h1>\n<h2>シャニ</h2>\n<p>今回の限定の愛依のTrueを取った。<br>\nスクショは忘れた。</p>\n<p>しかしExフェスできる気がしねえ。<br>\n流行がVoにならないとまず無理だ。</p>\n<h2>Scala</h2>\n<p>コマンドライン引数パーサについて。</p>\n<p>よく言われるように<code>FreeApplicative</code>に乗せるのが良い。<br>\nで、ベースの<code>Functor</code>には引数の情報を持ったものを渡して、1引数毎に<code>foldMap</code>で<code>Either</code>に包んだ<code>FreeApplicative</code>に移すようにするといい。<br>\n引数が値を取ったりする場合は<code>Reader</code>との積にしたりする。</p>\n<p>で、これだと複数フラグの中から選択する、みたいなパターンに対応できないのだけど、このために<code>FreeAlternative</code>を用意するのは得策ではないと思う。<br>\nなぜなら<code>Either</code>は<code>Alternative</code>ではないので、エラーをちゃんと回収できなくなる問題がある。<br>\nあと階層のあるエラーは表示がめんどい。<br>\n実際、大体のコマンドライン引数パーサライブラリもこの辺りの処理は結構曖昧で、あんましちゃんとしてない印象がある。</p>\n<p>というわけで、ベースの<code>Functor</code>に選択の機能を持たせるという方針を考えた。<br>\n多分これで良さそう。</p>","fields":{"date":"2020-10-07"},"frontmatter":{"title":"コマンドライン引数パーサなんも分からんよな"},"excerpt":"やったこと シャニ 今回の限定の愛依のTrueを取った。 スクショは忘れた。 しかしExフェスできる気がしねえ。 流行がVoにならないとまず無理だ。 Scala コマンドライン引数パーサについて。 よく言われるようにFreeApplicativeに乗せるのが良い。 で、ベースの…"},"prev":{"fields":{"date":"2020-10-08","slug":"/post/2020-10-08-diary/"},"frontmatter":{"title":"風邪気味"}},"next":{"fields":{"date":"2020-10-06","slug":"/post/2020-10-06-diary/"},"frontmatter":{"title":"スタマスの追加キャストの発表"}}},"pageContext":{"slug":"/post/2020-10-07-diary/","prevSlug":"/post/2020-10-08-diary/","nextSlug":"/post/2020-10-06-diary/"}},"staticQueryHashes":["530032413"],"slicesMap":{}}