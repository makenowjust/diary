{"componentChunkName":"component---src-templates-post-js","path":"/post/2020-04-02-diary/","result":{"data":{"site":{"siteMetadata":{"title":"℘ make now just"}},"markdownRemark":{"html":"<h1>やったこと</h1>\n<h2>Crystalにコントリビュートした</h2>\n<p>新年度なので気持ちを切り替えてCrystalをやっていく。</p>\n<p>とりあえず3つほどPRを出した。</p>\n<p>1つ目は、<code>Regex#hash</code>と<code>Regex::MatchData#hash</code>を実装したというもの。<br>\n<code>Regex</code>と<code>Regex::MatchData</code>は独自の<code>==</code>を実装しているのだけど、一方で<code>hash</code>が実装されておらず、値が等しいのに<code>Hash</code>に挿入すると別になる、という場合があったので、それの修正。</p>\n<p><a href=\"https://github.com/crystal-lang/crystal/pull/8986\" class=\"embedly-card\">https://github.com/crystal-lang/crystal/pull/8986</a></p>\n<p>2つ目は<code>crystal tool expand</code>が<code>require</code>を展開して探索するように修正した。<br>\nついでに<code>require</code>を展開した結果も見れるようになった。<br>\n前者はissueが立っていたので、後者に関しては完全に勢いなのだけど、普通に便利なので採用されてほしい。<br>\nまあ分けろと言われたら分ける。</p>\n<p><a href=\"https://github.com/crystal-lang/crystal/pull/8987\" class=\"embedly-card\">https://github.com/crystal-lang/crystal/pull/8987</a></p>\n<p>3つ目は<code>Regex#matches?</code>と<code>String#matches?</code>の追加。<br>\nこの2つは<code>#match</code>メソッドと同じようにマッチするけど、返り値が<code>true</code>か<code>false</code>で、結果の<code>MatchData</code>をアロケートしないという違いがある。<br>\n<code>man pcreapi</code>を読んで適当に実装してベンチマークを書いたらそこそこ早かったのでPRを投げた。<br>\n多分、標準ライブラリの<code>#match</code>を使ってる部分の一部は<code>matches?</code>で置き替えられると思うので、それはそれでやりたいところ。<br>\n(まあそういうのは自分がやらなくてもいいんだけど)</p>\n<p><a href=\"https://github.com/crystal-lang/crystal/pull/8989\" class=\"embedly-card\">https://github.com/crystal-lang/crystal/pull/8989</a></p>\n<p>久しぶりなので色々やれることがあったなぁ、という気持ちです。</p>\n<h2>ミリシタ</h2>\n<p>ハロコンイベはじまり。<br>\nさすがにモチベが低め。<br>\n前回がんばったので許して。</p>\n<h2>シャニマス</h2>\n<p>あさひ引いたぞ。<br>\nこの演出最高か？</p>\n<p><a href=\"https://twitter.com/make_now_just/status/1245709795388055558\" class=\"embedly-card\">https://twitter.com/make_now_just/status/1245709795388055558</a></p>\n<p>なおフェスは勝てない模様。しんどい‥‥。</p>","fields":{"date":"2020-04-02"},"frontmatter":{"title":"Crystalにコントリビュートしていくぞ"},"excerpt":"やったこと Crystalにコントリビュートした 新年度なので気持ちを切り替えてCrystalをやっていく。 とりあえず3つほどPRを出した。 1つ目は、Regex#hashとRegex::MatchData#hashを実装したというもの。 RegexとRegex::Match…"},"prev":{"fields":{"date":"2020-04-03","slug":"/post/2020-04-03-diary/"},"frontmatter":{"title":"weekly crystal #1した"}},"next":{"fields":{"date":"2020-04-01","slug":"/post/2020-04-01-diary/"},"frontmatter":{"title":"エイプリル・フール"}}},"pageContext":{"slug":"/post/2020-04-02-diary/","prevSlug":"/post/2020-04-03-diary/","nextSlug":"/post/2020-04-01-diary/"}},"staticQueryHashes":["1213933803","2548877431"],"slicesMap":{}}