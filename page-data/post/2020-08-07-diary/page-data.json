{"componentChunkName":"component---src-templates-post-js","path":"/post/2020-08-07-diary/","result":{"data":{"site":{"siteMetadata":{"title":"℘ make now just"}},"markdownRemark":{"html":"<h1>やったこと</h1>\n<h2>ミリシタ</h2>\n<p>折り返しがきてしまった。<br>\n全然テキスト回収できてないが‥‥。</p>\n<p>忙しい‥‥。</p>\n<h2>Scala</h2>\n<p>fastparseもどきを作っている。</p>\n<p>マクロを使わないでやってるのだけど、中々パフォーマンスが難しい。</p>\n<p>今のところこんな感じ。</p>\n<pre><code>[info] Benchmark                Mode  Cnt     Score     Error  Units\n[info] Bench.measureFastparse  thrpt    3  2645.636 ± 338.798  ops/s\n[info] Bench.measureMiniparse  thrpt    3  1285.200 ± 194.712  ops/s\n</code></pre>\n<p><code>@inline</code> を付けまくってみた。<br>\nちょっと早くなった。</p>\n<pre><code>[info] Benchmark                Mode  Cnt     Score      Error  Units\n[info] Bench.measureFastparse  thrpt    3  2449.027 ± 2155.629  ops/s\n[info] Bench.measureMiniparse  thrpt    3  1658.570 ±  757.862  ops/s\n</code></pre>\n<p>色々がんばったけどこれより早くはならなかった。<br>\n難しい‥‥。</p>\n<p>あと色々なパーサーコンビネータで測ってみた。<br>\nなんか遅くなってるのはよくあること(よくない)。</p>\n<pre><code>[info] Bench.measureAtto               thrpt    3    86.724 ±   37.653  ops/s\n[info] Bench.measureFastparse          thrpt    3  2765.109 ± 1718.271  ops/s\n[info] Bench.measureMiniparse          thrpt    3  1255.470 ±   73.205  ops/s\n[info] Bench.measureParserCombinators  thrpt    3   312.476 ±   76.613  ops/s\n</code></pre>\n<p>Attoがこんなに遅いと思わなかった。使いこなせてないだけ？<br>\nそこまで遅くはないけど、やはりfastparseにダブルスコアつけられてるのは悔しい。<br>\nプロファイル取ってみるか。</p>\n<h2>Weekly Crystal-JP</h2>\n<p>今週は開催できた。<br>\nCrystalやる時間が足りぬ‥‥。</p>\n<p><a href=\"https://twitter.com/make_now_just/status/1291734106280062977\" class=\"embedly-card\">https://twitter.com/make_now_just/status/1291734106280062977</a></p>\n<p>とりあえず今週末はShards 0.12.0のリリース記事の翻訳をする。</p>","fields":{"date":"2020-08-07"},"frontmatter":{"title":"fastparseもどきを作っている"},"excerpt":"やったこと ミリシタ 折り返しがきてしまった。 全然テキスト回収できてないが‥‥。 忙しい‥‥。 Scala fastparseもどきを作っている。 マクロを使わないでやってるのだけど、中々パフォーマンスが難しい。 今のところこんな感じ。 @inline を付けまくってみた。 …"},"prev":{"fields":{"date":"2020-08-08","slug":"/post/2020-08-08-diary/"},"frontmatter":{"title":"天井社長の夏の宿題2つ目"}},"next":{"fields":{"date":"2020-08-06","slug":"/post/2020-08-06-diary/"},"frontmatter":{"title":"天井社長の夏の宿題を1つ片付けた"}}},"pageContext":{"slug":"/post/2020-08-07-diary/","prevSlug":"/post/2020-08-08-diary/","nextSlug":"/post/2020-08-06-diary/"}},"staticQueryHashes":["1213933803","2548877431"],"slicesMap":{}}