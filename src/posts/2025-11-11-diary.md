---
title: Recheckのビルドやテストを弄っていた
---

# やったこと

## YAPC

発表時間を測ってみたら20分にちょうど収まるくらいだったので、かなりいい感じではないかと思う。
あとは発表までに実装できるところを実装していきたい。

## Recheck

CIのタイムアウトを15分に設定したのだけど、いくらなんでも長い気がするので、原則は5分にして、時間のかかる `native-build` と `maven-build` だけ15分にした。
あと、`native-build` は根本的に安定しなかったり色々と問題がありそうなので `schedule` イベントで週一でのみ実行するようにした。

<https://github.com/makenowjust-labs/recheck/pull/1625>

<https://github.com/makenowjust-labs/recheck/pull/1626>

あと、テストが終了しない問題が気になったので、`unref` してなさそうなagentプロセスの `stderr` をちゃんとやるようにしたのと、Jestの実行オプションに `--forceExit` と `--detectOpenHandles` を追加した。
これでいい感じになってくれると嬉しい。

## ZA

エンディング後のストーリーを多少やっている。
ゼルネアスとかイベルタルが流れで出てくるので面白い。
