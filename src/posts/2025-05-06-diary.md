---
title: Marshalを実装していた
---

# やったこと

## ミリシタ

ギャル星梨花の誘惑に抗えずに回した。
一発でこれだったのでいい感じではないかと思う。感謝。

<https://x.com/make_now_just/status/1919409368098865355>

## MD

1ミニットを今度は千年エクゾディアでやっていた。
まあ時間切れになることはない。

## Marshal

Scalaで実装を続けていた。
ひと通り実装したのだけど、ちょっと失敗したので作り直しを検討している。

今の実装は読み込んだMarshalデータを `Dump` という中間データに変換しているのだけど、これはMarshalのフォーマットに1対1になるような構造になっている。
この構造をさらにScalaのデータ構造などにマッピングしているのだけど、そのときに読み込む順序と書き出す順序を一致させないとobject linkとかsymbol linkの番号がズレるという問題があった。

この辺りをどうにかするためには、もう少しハイレベルなデータ構造として読み込んだ方がいいのではないかと考えている。
link周りの参照が、順序に依らず解決できるようにしたい。
